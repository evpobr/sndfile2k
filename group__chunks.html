<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sndfile2k: Chunks API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sndfile2k
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Chunks API</div>  </div>
</div><!--header-->
<div class="contents">

<p>Getting and setting of chunks from within a sound file.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html">SF_CHUNK_INFO</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes sound file chunk.  <a href="struct_s_f___c_h_u_n_k___i_n_f_o.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaae1e1793d9401e031b6e8c75a266a2a6"><td class="memItemLeft" align="right" valign="top"><a id="gaae1e1793d9401e031b6e8c75a266a2a6"></a>
typedef struct <a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a></td></tr>
<tr class="memdesc:gaae1e1793d9401e031b6e8c75a266a2a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">An opaque structure to an iterator over the all chunks of a given id. <br /></td></tr>
<tr class="separator:gaae1e1793d9401e031b6e8c75a266a2a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga345f6ca7043229770c49c79d1241162c"><td class="memItemLeft" align="right" valign="top">SNDFILE2K_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__chunks.html#ga345f6ca7043229770c49c79d1241162c">sf_set_chunk</a> (<a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc">SNDFILE</a> *sndfile, const <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html">SF_CHUNK_INFO</a> *chunk_info)</td></tr>
<tr class="memdesc:ga345f6ca7043229770c49c79d1241162c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the specified chunk info.  <a href="#ga345f6ca7043229770c49c79d1241162c">More...</a><br /></td></tr>
<tr class="separator:ga345f6ca7043229770c49c79d1241162c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d27639f6f915503f256d2fa535d5120"><td class="memItemLeft" align="right" valign="top">SNDFILE2K_EXPORT <a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__chunks.html#ga3d27639f6f915503f256d2fa535d5120">sf_get_chunk_iterator</a> (<a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc">SNDFILE</a> *sndfile, const <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html">SF_CHUNK_INFO</a> *chunk_info)</td></tr>
<tr class="memdesc:ga3d27639f6f915503f256d2fa535d5120"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an iterator for all chunks matching chunk_info.  <a href="#ga3d27639f6f915503f256d2fa535d5120">More...</a><br /></td></tr>
<tr class="separator:ga3d27639f6f915503f256d2fa535d5120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8b25065e33c547a5295d3df18a20caa"><td class="memItemLeft" align="right" valign="top">SNDFILE2K_EXPORT <a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__chunks.html#gab8b25065e33c547a5295d3df18a20caa">sf_next_chunk_iterator</a> (<a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a> *iterator)</td></tr>
<tr class="memdesc:gab8b25065e33c547a5295d3df18a20caa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterates through chunks by incrementing the iterator.  <a href="#gab8b25065e33c547a5295d3df18a20caa">More...</a><br /></td></tr>
<tr class="separator:gab8b25065e33c547a5295d3df18a20caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8682e3705258a74b01b1fc1e2f66a69"><td class="memItemLeft" align="right" valign="top">SNDFILE2K_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__chunks.html#gac8682e3705258a74b01b1fc1e2f66a69">sf_get_chunk_size</a> (const <a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a> *it, <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html">SF_CHUNK_INFO</a> *chunk_info)</td></tr>
<tr class="memdesc:gac8682e3705258a74b01b1fc1e2f66a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of the specified chunk.  <a href="#gac8682e3705258a74b01b1fc1e2f66a69">More...</a><br /></td></tr>
<tr class="separator:gac8682e3705258a74b01b1fc1e2f66a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac890f176227bc92612c3dd00139795ad"><td class="memItemLeft" align="right" valign="top">SNDFILE2K_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__chunks.html#gac890f176227bc92612c3dd00139795ad">sf_get_chunk_data</a> (const <a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a> *it, <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html">SF_CHUNK_INFO</a> *chunk_info)</td></tr>
<tr class="memdesc:gac890f176227bc92612c3dd00139795ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the specified chunk data.  <a href="#gac890f176227bc92612c3dd00139795ad">More...</a><br /></td></tr>
<tr class="separator:gac890f176227bc92612c3dd00139795ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Getting and setting of chunks from within a sound file. </p>
<p>These functions allow the getting and setting of chunks within a sound file (for those formats which allow it).</p>
<p>These functions fail safely. Specifically, they will not allow you to overwrite existing chunks or add extra versions of format specific reserved chunks but should allow you to retrieve any and all chunks (may not be implemented for all chunks or all file formats). </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac890f176227bc92612c3dd00139795ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac890f176227bc92612c3dd00139795ad">&#9670;&nbsp;</a></span>sf_get_chunk_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SNDFILE2K_EXPORT int sf_get_chunk_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html">SF_CHUNK_INFO</a> *&#160;</td>
          <td class="paramname"><em>chunk_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the specified chunk data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">it</td><td>Chunk iterafor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">chunk_info</td><td>Pointer to a <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html" title="Describes sound file chunk. ">SF_CHUNK_INFO</a> struct</td></tr>
  </table>
  </dd>
</dl>
<p>If the specified chunk exists, up to <code>chunk_info-&gt;datalen</code> bytes of the chunk data will be copied into the <code>chunk_info-&gt;data</code> buffer (allocated by the caller) and the <code>chunk_info-&gt;datalen</code> field updated to reflect the size of the data. The <code>id</code> and <code>id_size</code> field will be updated according to the retrieved chunk.</p>
<p>If the chunk doesn't exist <code>chunk_info-&gt;datalen</code> will be zero, and the <code>id</code> and <code>id_size</code> fields will be undefined.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__error.html#ggaa242aba0d1cae77024c36543d66532cda4c8c6c930ca43f7e6295a43ef0efb194" title="No error (success) ">SF_ERR_NO_ERROR</a> on success, negative error code otherwise. </dd></dl>

</div>
</div>
<a id="ga3d27639f6f915503f256d2fa535d5120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d27639f6f915503f256d2fa535d5120">&#9670;&nbsp;</a></span>sf_get_chunk_iterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SNDFILE2K_EXPORT <a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a>* sf_get_chunk_iterator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc">SNDFILE</a> *&#160;</td>
          <td class="paramname"><em>sndfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html">SF_CHUNK_INFO</a> *&#160;</td>
          <td class="paramname"><em>chunk_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an iterator for all chunks matching chunk_info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sndfile</td><td>Pointer to a sound file state </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk_info</td><td>Pointer to a <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html" title="Describes sound file chunk. ">SF_CHUNK_INFO</a> struct</td></tr>
  </table>
  </dd>
</dl>
<p>The iterator will point to the first chunk matching chunk_info.</p>
<p>Chunks are matching, if (chunk_info-&gt;id) matches the first (chunk_info-&gt;id_size) bytes of a chunk found in the SNDFILE* handle.</p>
<p>If chunk_info is NULL, an iterator to all chunks in the SNDFILE* handle is returned.</p>
<p>The values of chunk_info-&gt;datalen and chunk_info-&gt;data are ignored.</p>
<p>If no matching chunks are found in the sndfile, NULL is returned.</p>
<p>The returned iterator will stay valid until one of the following occurs:</p>
<ol type="1">
<li>The sndfile is closed.</li>
<li>A new chunk is added using <a class="el" href="group__chunks.html#ga345f6ca7043229770c49c79d1241162c" title="Sets the specified chunk info. ">sf_set_chunk()</a>.</li>
<li>Another chunk iterator function is called on the same SNDFILE* handle that causes the iterator to be modified.</li>
</ol>
<p>The memory for the iterator belongs to the SNDFILE* handle and is freed when <a class="el" href="sndfile2k_8h.html#a654c4c7efbf9db9017e7e4c5a2d9538c" title="Closes the SNDFILE object. ">sf_close()</a> is called.</p>
<dl class="section return"><dt>Returns</dt><dd>Chunk iterator on success, <code>NULL</code> otherwise. </dd></dl>

</div>
</div>
<a id="gac8682e3705258a74b01b1fc1e2f66a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8682e3705258a74b01b1fc1e2f66a69">&#9670;&nbsp;</a></span>sf_get_chunk_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SNDFILE2K_EXPORT int sf_get_chunk_size </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html">SF_CHUNK_INFO</a> *&#160;</td>
          <td class="paramname"><em>chunk_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the size of the specified chunk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">it</td><td>Chunk iterafor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">chunk_info</td><td>Pointer to a <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html" title="Describes sound file chunk. ">SF_CHUNK_INFO</a> struct</td></tr>
  </table>
  </dd>
</dl>
<p>If the specified chunk exists, the size will be returned in the <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html#a82ed11e618cd236142f6b57435ebd279" title="The size of the chunk identifier. ">SF_CHUNK_INFO::datalen</a> field of the <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html" title="Describes sound file chunk. ">SF_CHUNK_INFO</a> struct.</p>
<p>Additionally, the id of the chunk will be copied to the <code>id</code> field of the <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html" title="Describes sound file chunk. ">SF_CHUNK_INFO</a> struct and it's <code>id_size</code> field will be updated accordingly.</p>
<p>If the chunk doesn't exist <code>chunk_info-&gt;datalen</code> will be zero, and the <code>id</code> and <code>id_size</code> fields will be undefined.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__error.html#ggaa242aba0d1cae77024c36543d66532cda4c8c6c930ca43f7e6295a43ef0efb194" title="No error (success) ">SF_ERR_NO_ERROR</a> on success, negative error code otherwise. </dd></dl>

</div>
</div>
<a id="gab8b25065e33c547a5295d3df18a20caa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab8b25065e33c547a5295d3df18a20caa">&#9670;&nbsp;</a></span>sf_next_chunk_iterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SNDFILE2K_EXPORT <a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a>* sf_next_chunk_iterator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__chunks.html#gaae1e1793d9401e031b6e8c75a266a2a6">SF_CHUNK_ITERATOR</a> *&#160;</td>
          <td class="paramname"><em>iterator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Iterates through chunks by incrementing the iterator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iterator</td><td>Current chunk iterator</td></tr>
  </table>
  </dd>
</dl>
<p>Increments the iterator and returns a handle to the new one.</p>
<p>After this call, iterator will no longer be valid, and you must use the newly returned handle from now on.</p>
<p>The returned handle can be used to access the next chunk matching the criteria as defined in <a class="el" href="group__chunks.html#ga3d27639f6f915503f256d2fa535d5120" title="Gets an iterator for all chunks matching chunk_info. ">sf_get_chunk_iterator()</a>.</p>
<p>If iterator points to the last chunk, this will free all resources associated with iterator and return <code>NULL</code>.</p>
<p>The returned iterator will stay valid until sf_get_chunk_iterator_next is called again, the sndfile is closed or a new chunk us added.</p>
<dl class="section return"><dt>Returns</dt><dd>Next chunk interator on success, <code>NULL</code> otherwise. </dd></dl>

</div>
</div>
<a id="ga345f6ca7043229770c49c79d1241162c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga345f6ca7043229770c49c79d1241162c">&#9670;&nbsp;</a></span>sf_set_chunk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SNDFILE2K_EXPORT int sf_set_chunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc">SNDFILE</a> *&#160;</td>
          <td class="paramname"><em>sndfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html">SF_CHUNK_INFO</a> *&#160;</td>
          <td class="paramname"><em>chunk_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the specified chunk info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sndfile</td><td>Pointer to a sound file state </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk_info</td><td>Pointer to a <a class="el" href="struct_s_f___c_h_u_n_k___i_n_f_o.html" title="Describes sound file chunk. ">SF_CHUNK_INFO</a> struct</td></tr>
  </table>
  </dd>
</dl>
<p>Chunk info must be done before any audio data is written to the file.</p>
<p>This will fail for format specific reserved chunks.</p>
<p>The <code>chunk_info-&gt;data</code> pointer must be valid until the file is closed.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group__error.html#ggaa242aba0d1cae77024c36543d66532cda4c8c6c930ca43f7e6295a43ef0efb194" title="No error (success) ">SF_ERR_NO_ERROR</a> on success or non-zero on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
