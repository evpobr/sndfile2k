<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sndfile2k: Virtual I/O</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sndfile2k
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Virtual I/O<div class="ingroups"><a class="el" href="group__file-base.html">Basic sound file manipulation</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>SndFile2K calls the callbacks provided by the <a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html" title="Defines virtual file I/O context. ">SF_VIRTUAL_IO</a> structure when opening, reading and writing to the virtual file context.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html">SF_VIRTUAL_IO</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines virtual file I/O context.  <a href="struct_s_f___v_i_r_t_u_a_l___i_o.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga2166198457fe4e852ef10804b2c1e8a1"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file-virt.html#ga2166198457fe4e852ef10804b2c1e8a1">sf_vio_get_filelen</a>) (void *user_data)</td></tr>
<tr class="memdesc:ga2166198457fe4e852ef10804b2c1e8a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of user defined function that returns file size.  <a href="#ga2166198457fe4e852ef10804b2c1e8a1">More...</a><br /></td></tr>
<tr class="separator:ga2166198457fe4e852ef10804b2c1e8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad23e218718c16eae24b98d41976ac5d2"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file-virt.html#gad23e218718c16eae24b98d41976ac5d2">sf_vio_seek</a>) (<a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a> offset, int whence, void *user_data)</td></tr>
<tr class="memdesc:gad23e218718c16eae24b98d41976ac5d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of user defined seek function.  <a href="#gad23e218718c16eae24b98d41976ac5d2">More...</a><br /></td></tr>
<tr class="separator:gad23e218718c16eae24b98d41976ac5d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90c34518e3de9fbed3611b030e17dba7"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file-virt.html#ga90c34518e3de9fbed3611b030e17dba7">sf_vio_read</a>) (void *ptr, <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a> count, void *user_data)</td></tr>
<tr class="memdesc:ga90c34518e3de9fbed3611b030e17dba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of user defined read function.  <a href="#ga90c34518e3de9fbed3611b030e17dba7">More...</a><br /></td></tr>
<tr class="separator:ga90c34518e3de9fbed3611b030e17dba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1b1f82878422da550bfd70f2be3ded3"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file-virt.html#gaa1b1f82878422da550bfd70f2be3ded3">sf_vio_write</a>) (const void *ptr, <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a> count, void *user_data)</td></tr>
<tr class="memdesc:gaa1b1f82878422da550bfd70f2be3ded3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of user defined write function.  <a href="#gaa1b1f82878422da550bfd70f2be3ded3">More...</a><br /></td></tr>
<tr class="separator:gaa1b1f82878422da550bfd70f2be3ded3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga09d282e248951a83f66bc7e6c8dc7fc8"><td class="memItemLeft" align="right" valign="top">SNDFILE2K_EXPORT <a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc">SNDFILE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file-virt.html#ga09d282e248951a83f66bc7e6c8dc7fc8">sf_open_virtual</a> (<a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html">SF_VIRTUAL_IO</a> *sfvirtual, int mode, <a class="el" href="struct_s_f___i_n_f_o.html">SF_INFO</a> *sfinfo, void *user_data)</td></tr>
<tr class="memdesc:ga09d282e248951a83f66bc7e6c8dc7fc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens sound file using Virtual I/O context.  <a href="#ga09d282e248951a83f66bc7e6c8dc7fc8">More...</a><br /></td></tr>
<tr class="separator:ga09d282e248951a83f66bc7e6c8dc7fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a73a72234d17776134fc5fe1419ed60"><td class="memItemLeft" align="right" valign="top">SNDFILE2K_EXPORT <a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc">SNDFILE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file-virt.html#ga8a73a72234d17776134fc5fe1419ed60">sf_open_virtual_ex</a> (<a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html">SF_VIRTUAL_IO</a> *sfvirtual, int mode, <a class="el" href="struct_s_f___i_n_f_o.html">SF_INFO</a> *sfinfo, void *user_data)</td></tr>
<tr class="memdesc:ga8a73a72234d17776134fc5fe1419ed60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens sound file using Virtual I/O context.  <a href="#ga8a73a72234d17776134fc5fe1419ed60">More...</a><br /></td></tr>
<tr class="separator:ga8a73a72234d17776134fc5fe1419ed60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>SndFile2K calls the callbacks provided by the <a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html" title="Defines virtual file I/O context. ">SF_VIRTUAL_IO</a> structure when opening, reading and writing to the virtual file context. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga2166198457fe4e852ef10804b2c1e8a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2166198457fe4e852ef10804b2c1e8a1">&#9670;&nbsp;</a></span>sf_vio_get_filelen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a>(* sf_vio_get_filelen) (void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of user defined function that returns file size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>User defined value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of file in bytes on success, <code>-1</code> otherwise. </dd></dl>

</div>
</div>
<a id="ga90c34518e3de9fbed3611b030e17dba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90c34518e3de9fbed3611b030e17dba7">&#9670;&nbsp;</a></span>sf_vio_read</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a>(* sf_vio_read) (void *ptr, <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a> count, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of user defined read function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>Pointer to an allocated block memory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>Size in bytes of /c ptr. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>User defined value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Count of bytes actually read or zero otherwise. </dd></dl>

</div>
</div>
<a id="gad23e218718c16eae24b98d41976ac5d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad23e218718c16eae24b98d41976ac5d2">&#9670;&nbsp;</a></span>sf_vio_seek</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a>(* sf_vio_seek) (<a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a> offset, int whence, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of user defined seek function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Offset to seek. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">whence</td><td>Seek mode, one of <a class="el" href="group__file-base.html#gab13297f20c0d812914bc3835e5789761" title="Defines file seek mode constants. ">SF_SEEK_MODE</a> values. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>User defined value.</td></tr>
  </table>
  </dd>
</dl>
<p><code>offset</code> must be non-negative if <code>whence</code> is <a class="el" href="group__file-base.html#ggab13297f20c0d812914bc3835e5789761aef473c62f0714c0a794f0426dc7cd5d0" title="Seek from beginning. ">SF_SEEK_SET</a> or <a class="el" href="group__file-base.html#ggab13297f20c0d812914bc3835e5789761aaababe51454448899c3cc16fee9c52de" title="Seek from current position. ">SF_SEEK_CUR</a> or non-positive if <code>whence</code> is <a class="el" href="group__file-base.html#ggab13297f20c0d812914bc3835e5789761aa295b34c0c416b4f3a2bd5c89a240d6e" title="Seek from end. ">SF_SEEK_END</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>Non-negative offset from start on the file on success, <code>-1</code> otherwise. </dd></dl>

</div>
</div>
<a id="gaa1b1f82878422da550bfd70f2be3ded3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1b1f82878422da550bfd70f2be3ded3">&#9670;&nbsp;</a></span>sf_vio_write</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a>(* sf_vio_write) (const void *ptr, <a class="el" href="sndfile2k_8h.html#a398121a5f562230ea7f772528fff5f84">sf_count_t</a> count, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of user defined write function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>Pointer to an allocated block memory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>Size in bytes of <code>ptr</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>User defined value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Count of bytes actually written or zero otherwise. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga09d282e248951a83f66bc7e6c8dc7fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga09d282e248951a83f66bc7e6c8dc7fc8">&#9670;&nbsp;</a></span>sf_open_virtual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SNDFILE2K_EXPORT <a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc">SNDFILE</a>* sf_open_virtual </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html">SF_VIRTUAL_IO</a> *&#160;</td>
          <td class="paramname"><em>sfvirtual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_f___i_n_f_o.html">SF_INFO</a> *&#160;</td>
          <td class="paramname"><em>sfinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens sound file using Virtual I/O context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sfvirtual</td><td>Virtual I/O context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>File open mode </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">sfinfo</td><td>Format information </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>User data</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="group__file-base.html#gad6635d6c4c00e16a48e14542a27efd91" title="Opens sound file using POSIX file descriptor. ">sf_open_fd()</a> is similar to <a class="el" href="group__file-base.html#gaa45351ce25bafc72c211045e6e9d8fb2" title="Opens the specified sound file using path. ">sf_open()</a>, but takes Virtual I/O context of already opened file instead of path.</p>
<p>Care should be taken to ensure that the mode of the file represented by the descriptor matches the <code>mode</code> argument.</p>
<dl class="section return"><dt>Returns</dt><dd>A valid pointer to a <a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc" title="Represents opened sound file. ">SNDFILE</a> object on success, <code>NULL</code> otherwise.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated:</a></b></dt><dd>This function is deprecated and will be removed in next major release. Use <a class="el" href="group__file-virt.html#ga8a73a72234d17776134fc5fe1419ed60" title="Opens sound file using Virtual I/O context. ">sf_open_virtual_ex()</a> instead.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__file-base.html#gaa45351ce25bafc72c211045e6e9d8fb2" title="Opens the specified sound file using path. ">sf_open()</a>, sf_wchar_open(), <a class="el" href="group__file-base.html#gad6635d6c4c00e16a48e14542a27efd91" title="Opens sound file using POSIX file descriptor. ">sf_open_fd()</a>, <a class="el" href="group__file-virt.html#ga8a73a72234d17776134fc5fe1419ed60" title="Opens sound file using Virtual I/O context. ">sf_open_virtual_ex()</a> </dd>
<dd>
<a class="el" href="sndfile2k_8h.html#a654c4c7efbf9db9017e7e4c5a2d9538c" title="Closes the SNDFILE object. ">sf_close()</a> </dd></dl>

</div>
</div>
<a id="ga8a73a72234d17776134fc5fe1419ed60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a73a72234d17776134fc5fe1419ed60">&#9670;&nbsp;</a></span>sf_open_virtual_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SNDFILE2K_EXPORT <a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc">SNDFILE</a>* sf_open_virtual_ex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html">SF_VIRTUAL_IO</a> *&#160;</td>
          <td class="paramname"><em>sfvirtual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_f___i_n_f_o.html">SF_INFO</a> *&#160;</td>
          <td class="paramname"><em>sfinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens sound file using Virtual I/O context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sfvirtual</td><td>Virtual I/O context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>File open mode </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">sfinfo</td><td>Format information </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>User data</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="group__file-virt.html#ga8a73a72234d17776134fc5fe1419ed60" title="Opens sound file using Virtual I/O context. ">sf_open_virtual_ex()</a> is similar to <a class="el" href="group__file-base.html#gaa45351ce25bafc72c211045e6e9d8fb2" title="Opens the specified sound file using path. ">sf_open()</a>, but takes Virtual I/O context of already opened file instead of path.</p>
<p><a class="el" href="group__file-virt.html#ga8a73a72234d17776134fc5fe1419ed60" title="Opens sound file using Virtual I/O context. ">sf_open_virtual_ex()</a> uses new <a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html" title="Defines virtual file I/O context. ">SF_VIRTUAL_IO</a> members: <a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#adc6b115dd56ee075a53097f03620032a" title="Pointer to a user defined function that forces the writing of data to disk. ">SF_VIRTUAL_IO::flush</a>, <a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#a849d190d6f18b7e4d73e1f5c215dbd71" title="Pointer to a user defined function that truncates stream. ">SF_VIRTUAL_IO::set_filelen</a>, <a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#a21facb1beae7168544c60c4285c93cea" title="Pointer to a user defined function that indicates pipe mode. ">SF_VIRTUAL_IO::is_pipe</a>, <a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#afef0b941ac0324a42aba42a3ef9c472b" title="Pointer to a user defined function that increases reference count. ">SF_VIRTUAL_IO::ref</a> and <a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#adf093762f7cc0387b44fa9280b7fb30b" title="Pointer to a user defined function that decreases reference count. ">SF_VIRTUAL_IO::unref</a>. Anyway, all this callbaks are not required and could be set to <code>NULL</code>.</p>
<ul>
<li><a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#adc6b115dd56ee075a53097f03620032a" title="Pointer to a user defined function that forces the writing of data to disk. ">SF_VIRTUAL_IO::flush</a> is helpful in write mode, performing flashing cache data to disk.</li>
<li><a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#a849d190d6f18b7e4d73e1f5c215dbd71" title="Pointer to a user defined function that truncates stream. ">SF_VIRTUAL_IO::set_filelen</a> truncates file to desired size by the library.</li>
<li><a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#a21facb1beae7168544c60c4285c93cea" title="Pointer to a user defined function that indicates pipe mode. ">SF_VIRTUAL_IO::is_pipe</a> indicates that stream is pipe, activating internal pipe support.</li>
<li><a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#afef0b941ac0324a42aba42a3ef9c472b" title="Pointer to a user defined function that increases reference count. ">SF_VIRTUAL_IO::ref</a> and <a class="el" href="struct_s_f___v_i_r_t_u_a_l___i_o.html#adf093762f7cc0387b44fa9280b7fb30b" title="Pointer to a user defined function that decreases reference count. ">SF_VIRTUAL_IO::unref</a> could be implemented to control stream life time. When these members are implemented, library will call <code>ref</code> when file is opened, and call <code>unref</code> before closing file. You can pass as <code>user_data</code> pointer to struct with some counter member, your implementation of <code>ref</code> must increase this value, and  must decrease it and when it reaches zero close stream and free resources. Now, when initial value is zero, library will call and set counter to <code>1</code>, holding reference. In <a class="el" href="sndfile2k_8h.html#a654c4c7efbf9db9017e7e4c5a2d9538c" title="Closes the SNDFILE object. ">sf_close()</a> <code>unref</code> will be called, setting counter to <code>0</code> and calls yours cleanup code.</li>
</ul>
<p>Care should be taken to ensure that the mode of the file represented by the descriptor matches the <code>mode</code> argument.</p>
<dl class="section return"><dt>Returns</dt><dd>A valid pointer to a <a class="el" href="group__file-base.html#gafcfd725939fab9b8a6e7891f80a8dafc" title="Represents opened sound file. ">SNDFILE</a> object on success, <code>NULL</code> otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__file-base.html#gaa45351ce25bafc72c211045e6e9d8fb2" title="Opens the specified sound file using path. ">sf_open()</a>, sf_wchar_open(), <a class="el" href="group__file-base.html#gad6635d6c4c00e16a48e14542a27efd91" title="Opens sound file using POSIX file descriptor. ">sf_open_fd()</a>, <a class="el" href="group__file-virt.html#ga09d282e248951a83f66bc7e6c8dc7fc8" title="Opens sound file using Virtual I/O context. ">sf_open_virtual()</a> </dd>
<dd>
<a class="el" href="sndfile2k_8h.html#a654c4c7efbf9db9017e7e4c5a2d9538c" title="Closes the SNDFILE object. ">sf_close()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
